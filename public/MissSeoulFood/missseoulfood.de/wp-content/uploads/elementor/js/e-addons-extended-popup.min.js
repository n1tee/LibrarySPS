jQuery(function($){var original_popup_elementHTML=[];jQuery(document).on('click','a[href^="#elementor-action%3Aaction%3Dpopup%3Aopen"]',function(event){let field='';let type='post';let post_id=user_id=term_id=0;let block=jQuery(this).closest('.e-add-post, .elementor-widget .elementor, .e-loop-item');if(block.length){if(block.hasClass('e-loop-item')){let tmp=block.attr('class').split('e-loop-item-');if(tmp.length>1){tmp=tmp[1].split(' ');post_id=parseInt(tmp[0])}}else{post_id=block.data('post-id')}}
if(jQuery(this).closest('.elementor-widget-e-query-users').length){user_id=post_id;type='user';post_id=elementorFrontend.config.post.id}
if(jQuery(this).closest('.elementor-widget-e-query-terms').length){term_id=post_id;type='term';post_id=elementorFrontend.config.post.id}
let index=0;if(block.data('index')){index=block.data('index')}else{index=block.index()}
let widget=jQuery(this).closest('.elementor-widget.e-add-querytype-repeater');if(widget.length){let wsettings=widget.data('settings');if(wsettings){if(wsettings.repeater_field){field=wsettings.repeater_field}
if(wsettings.customfields_type){type=wsettings.customfields_type}
if(wsettings.source_post){post_id=wsettings.source_post}else{post_id=elementorFrontend.config.post.id}
if(wsettings.source_attachment){post_id=wsettings.source_attachment}
if(wsettings.source_user){user_id=wsettings.source_user}
if(wsettings.source_term){term_id=wsettings.source_term}}}
var settings=jQuery(this).attr('href').split('%26settings%3D').pop().replace(/%3D/g,'');settings=JSON.parse(atob(settings));if(post_id){if(settings.id){event.stopPropagation();event.stopImmediatePropagation();var popup=elementorFrontend.documentsManager.documents[settings.id];if(popup){if(popup.$element){var overlay=jQuery('#elementor-popup-modal-'+settings.id);var popup_settings=popup.$element.data('elementor-settings');if(popup_settings.overlay_entrance_animation){jQuery('body').addClass('elementor-popup-hidden');setTimeout(()=>{jQuery('body').removeClass('elementor-popup-hidden');elementorFrontend.elements.$document.trigger('elementor/popup/show',[settings.id,overlay,popup]);var animationDuration=popup_settings.overlay_entrance_animation_duration.size;overlay.on('animationend',()=>{})},10)}
jQuery('body').addClass('elementor-popup-archive');jQuery('body').append('<div class="e-add-popup-archive dialog-widget dialog-lightbox-widget dialog-type-buttons dialog-type-lightbox elementor-popup-modal" id="elementor-popup-modal-'+settings.id+'"><div class="e-popup-loader"><i class="eicon-spinner eicon-animation-spin fa fa-spinner fa-spin"></i></div></div>');jQuery.ajax({url:ElementorProFrontendConfig.ajaxurl,dataType:"html",context:popup,type:"POST",data:{"action":"e_elementor_popup","type":type,"post_id":post_id,"term_id":term_id,"author_id":user_id,"field":field,"index":index,"document_id":settings.id,},error:function(){console.log("error")},success:function(data,status,xhr){jQuery('.elementor-popup-modal').remove();if(!original_popup_elementHTML[settings.id]){original_popup_elementHTML[settings.id]=popup.elementHTML}
popup.elementHTML=data;popup.showModal();jQuery('.elementor-popup-modal .dialog-close-button').on('click',function(){let modal=popup.getModal();modal.hide()})},});return!1}}}}
if(original_popup_elementHTML[settings.id]){elementorFrontend.documentsManager.documents[settings.id].elementHTML=original_popup_elementHTML[settings.id]}})})