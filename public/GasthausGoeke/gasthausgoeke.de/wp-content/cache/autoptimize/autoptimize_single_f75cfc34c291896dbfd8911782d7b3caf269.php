(function(){"use strict";const stickies=document.querySelectorAll(".js-sticky");const stickyContainer=document.querySelectorAll(".js-sticky-container")[0];let stickyCounter=0;let stickyStart;let stickyScroll=0;let stickyScrollCurrent=window.pageYOffset;let stickyScrollCurrentTop=document.scrollingElement.scrollTop;const stickyClassHidden="is-hidden";const stickyClassVisible="is-visible";const stickyClassOnTop="is-on-top";function forqySticky(element,start,counter){document.addEventListener("scroll",function(){Promise.resolve(1).then(function resolve(){stickyScrollCurrent=window.pageYOffset;stickyScrollCurrentTop=document.scrollingElement.scrollTop;setTimeout(function(){if(element.classList.contains("js-autohide")){if(stickyScrollCurrentTop>=start){if(stickyScrollCurrent<stickyScroll){element.classList.remove(stickyClassOnTop);element.classList.add(stickyClassVisible);element.classList.remove(stickyClassHidden);element.setAttribute("aria-hidden","false");document.body.classList.add(stickyClassVisible+"-sticky-"+counter);}else if(stickyScrollCurrent>stickyScroll){element.classList.remove(stickyClassOnTop);element.classList.remove(stickyClassVisible);element.classList.add(stickyClassHidden);element.setAttribute("aria-hidden","true");document.body.classList.remove(stickyClassVisible+"-sticky-"+counter);}}else if(stickyScrollCurrent===start){element.classList.add(stickyClassOnTop);element.classList.remove(stickyClassVisible);element.classList.remove(stickyClassHidden);element.setAttribute("aria-hidden","true");}else{element.classList.remove(stickyClassOnTop);element.classList.remove(stickyClassVisible);element.classList.remove(stickyClassHidden);element.setAttribute("aria-hidden","true");}}else{if(stickyScrollCurrentTop>=start){element.classList.add(stickyClassVisible);element.classList.remove(stickyClassHidden);element.setAttribute("aria-hidden","false");document.body.classList.add(stickyClassVisible+"-sticky-"+counter);}else{element.classList.remove(stickyClassVisible);element.classList.add(stickyClassHidden);element.setAttribute("aria-hidden","true");document.body.classList.remove(stickyClassVisible+"-sticky-"+counter);}}},30);});stickyScroll=stickyScrollCurrent;},false);}
function forqyStickyClone(element,container,start,counter){const stickyClone=element.cloneNode(true);const all=stickyClone.querySelectorAll("*");const links=stickyClone.querySelectorAll("a");const navs=stickyClone.querySelectorAll("nav");stickyClone.classList.add("sticky-clone");stickyClone.classList.add("sticky-clone-"+counter);stickyClone.classList.add("is-sticky");stickyClone.setAttribute("aria-hidden","true");all.forEach(function(item){item.removeAttribute("id");});navs.forEach(function(nav){nav.removeAttribute("aria-label");nav.removeAttribute("itemscope");nav.removeAttribute("itemtype");nav.removeAttribute("data-navigation");});links.forEach(function(link){link.setAttribute("tabindex","-1");});container.insertBefore(stickyClone,container.firstChild);forqySticky(stickyClone,start,counter);}
stickies.forEach(function(sticky){const positionTop=sticky.getBoundingClientRect().top+document.documentElement.scrollTop;const positionBottom=sticky.getBoundingClientRect().top+sticky.offsetHeight+document.documentElement.scrollTop;if(sticky.getAttribute("data-sticky-start")){if(sticky.getAttribute("data-sticky-start")==="top"){stickyStart=positionTop;}else if(sticky.getAttribute("data-sticky-start")==="bottom"){stickyStart=positionBottom;}else{stickyStart=sticky.getAttribute("data-sticky-start");}}else{stickyStart=document.documentElement.clientHeight;}
forqyStickyClone(sticky,stickyContainer,stickyStart,stickyCounter);stickyCounter=stickyCounter+1;});}());